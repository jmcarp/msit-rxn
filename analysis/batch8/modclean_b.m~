function modclean_b

global CCN;

spmdir = expandpath(CCN.model.model_dir, false, 1);

% Clean misc
cmd = sprintf('rm %s/RPV*', spmdir);
system(cmd);
cmd = sprintf('rm %s/ess*', spmdir);
system(cmd);
cmd = sprintf('rm %s/Res*', spmdir);
system(cmd);
cmd = sprintf('rm %s/mask*', spmdir);
system(cmd);

% Clean SPM.mat
if isfield(CCN.modclean, 'cleanspm') && ...
        CCN.modclean.cleanspm == true
    cmd = sprintf('rm %s/SPM.mat', spmdir);
    system(cmd);
end

% Clean beta*
if isfield(CCN.modclean, 'cleanbeta') && ...
        CCN.modclean.cleanbeta == true
    cmd = sprintf('rm %s/beta*', spmdir);
    system(cmd);
end

% Clean spmF*
if isfield(CCN.modclean, 'cleanspmf') && ...
        CCN.modclean.cleanspf == true
    cmd = sprintf('rm %s/spmF*', spmdir);
    system(cmd);
end

if isfield(CCN.modclean, 'pack') && ...
        CCN.modclean.pack == true
    cmd = sprintf('tar zcvf 